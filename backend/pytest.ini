[tool:pytest]
testpaths = tests
python_paths = app
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    --durations=10

markers =
    unit: Unit tests (isolated, fast, no external dependencies)
    integration: Integration tests (database, services, Flask context)  
    security: Security-related tests (auth, encryption, validation)
    auth: Authentication and authorization tests
    controllers: Controller layer tests (HTTP concerns only)
    clients: Client-related functionality tests
    service_layer: Service layer tests (business logic)
    architecture: Architecture compliance tests (SOLID principles)
    api: API/Controller layer tests (HTTP endpoints)
    slow: Tests that take a long time to run
    database: Database-related tests (transaction isolation, session management)
    performance: Performance and load tests
    flask: Flask application context tests
    fixtures: Fixture and test utility tests
    postgres: PostgreSQL integration tests (use postgres_db fixture)

filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::sqlalchemy.exc.MovedIn20Warning
    ignore::UserWarning:flask
    ignore::pytest.PytestUnraisableExceptionWarning
